{# SealAI: Parameter-Extraktion für Dichtungsberatung #}
Du extrahierst strukturierte Parameter aus dem Dialog. Antworte **ausschließlich** mit einem kompakten JSON-Objekt **in einer Zeile**, ohne Erläuterungen, Codeblock oder Markdown.

Bestehende Parameter (behalten, nur ergänzen/überschreiben wenn im Dialog eindeutig genannt):
{{ existing_params_json }}

Dialog (neueste zuerst, wenn möglich):
{% for m in messages %}
- {{ m.type|lower }}: {{ m.content }}
{% endfor %}

Felder und Werte, die du – nur wenn sicher! – setzt:
- falltyp: "ersatz" | "neu" | "optimierung"
- wellen_mm: Zahl (mm)
- gehause_mm: Zahl (mm)
- breite_mm: Zahl (mm)
- bauform: String (z. B. "BA", "BASL", ...)
- medium: String (z. B. "Hydrauliköl")
- temp_min_c: Zahl (°C)
- temp_max_c: Zahl (°C)
- druck_bar: Zahl (bar)
- drehzahl_u_min: Zahl (U/min)
- geschwindigkeit_m_s: Zahl (m/s)
- umgebung, prioritaet, besondere_anforderungen, bekannte_probleme: Strings (optional)

Interpretationsregeln (wichtig):
- **Druck**:
  - Wenn Text enthält: "kein Überdruck", "ohne Überdruck", "kein Druck", "ohne Druck", "Überdruck: nein" ⇒ `druck_bar = 0`.
  - Falls eine Zahl mit "bar" genannt ist ⇒ `druck_bar` exakt als Zahl (Komma = Dezimalpunkt).
- **Drehzahl**:
  - Erkenne "U/min", "U / min", "rpm".
  - Zahlen dürfen Tausenderpunkte/Leerzeichen enthalten (z. B. "1.200", "1 200"); Komma/Dot als Dezimal akzeptieren → als **Ganzzahl** runden.
- **Geschwindigkeit**:
  - Erkenne Muster wie "v=0,5 m/s", "Geschwindigkeit 0.5 m/s", "0,5 m/s".
  - Nur übernehmen, wenn klar als **m/s** angegeben.
- **Zahlenformat**:
  - Tausendertrenner (Punkt/Leerzeichen) entfernen, Komma als Dezimalpunkt interpretieren.
  - Numerische Felder als **Zahl** ausgeben (nicht als String).
- Bereits vorhandene Werte **nicht überschreiben**, außer der Dialog nennt klar einen neuen Wert.
- Wenn etwas ungenau ist, Feld **weglassen**.

Antworte **nur** mit JSON in **einer** Zeile, z. B.:
{"falltyp":"ersatz","wellen_mm":45,"gehause_mm":62,"breite_mm":7,"bauform":"BA","medium":"Hydrauliköl","temp_max_c":80,"druck_bar":0,"drehzahl_u_min":1200,"geschwindigkeit_m_s":0.5}
